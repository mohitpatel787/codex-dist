function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Pb9u:function(e,t,n){"use strict";n.r(t),n.d(t,"FreelancerPostBlogModule",(function(){return S}));var l,o,r=n("ofXK"),a=n("3Pt+"),i=n("kzlf"),d=n.n(i),s=(n("gJae"),n("TDHc")),m=n.n(s),c=n("PSD3"),u=n.n(c),p=n("fXoL"),g=n("N+K7"),f=n("dz5x"),h=n("tyNb"),v=n("CzEO"),b=[{path:"",component:(l=function(){function e(t,n,l){var o=this;_classCallCheck(this,e),this.http=t,this.share=n,this.router=l,this.image=new a.f({image:new a.d(null)}),this.blogForm=new a.f({title:new a.d(null,{validators:[a.v.required]}),category:new a.d(null,{validators:[a.v.required]}),image:new a.d(null,{validators:[a.v.required]}),content:new a.d(null,{validators:[a.v.required]}),hashTag:new a.d([])}),this.submitted=!1,this.config={imageUpload:{upload:function(e){console.log(e),o.image.patchValue({image:e}),o.image.get("image").updateValueAndValidity(),console.log("form hit",o.image.value);var t=new FormData;return t.append("image",o.image.value.image),t.append("userName",o.share.user.username),new Promise((function(e,n){o.http.postToBackend("/users/addimage",t).then((function(t){console.log("res hit",t),e(t.data)})).catch((function(e){console.log(e),n(e)}))}))}}}}return _createClass(e,[{key:"ngOnInit",value:function(){d.a.register("modules/imageUpload",m.a)}},{key:"addImage",value:function(e){var t=this,n=e.target.files[0];if("image"!=n.type.split("/")[0])return alert("Please Select Image file!");this.blogForm.patchValue({image:n});var l=new FileReader;l.onload=function(){t.imagePreview=l.result},l.readAsDataURL(n)}},{key:"postBlog",value:function(){var e=this;if(console.log(this.blogForm.value),$("#post-btn").addClass("running"),$("#post-btn").prop("disabled",!0),this.blogForm.invalid)return $("#post-btn").removeClass("running"),void $("#post-btn").prop("disabled",!1);console.log(this.blogForm.value);var t=new FormData;t.append("title",this.blogForm.value.title),t.append("category",this.blogForm.value.category),t.append("image",this.blogForm.value.image),t.append("content",this.blogForm.value.content),t.append("hashTag",JSON.stringify(this.blogForm.value.hashTag)),t.append("userName",this.share.user.username),t.append("isFreelancer","true"),t.append("freelancerId",this.share.user.id),this.http.postToBackend("/users/add/blog",t).then((function(t){console.log(t),$("#post-btn").removeClass("running"),$("#post-btn").prop("disabled",!1),7e3===t.statusCode?u.a.fire("Posted","Your blogs has been successfully posted!","success").then((function(t){e.router.navigate(["/freelancer/blogs/all"])})):u.a.fire("Failed",t.message,"error")})).catch((function(e){$("#post-btn").removeClass("running"),$("#post-btn").prop("disabled",!1),console.log(e),u.a.fire("Failed","Sorry an internal server error occured. Please try later","error")}))}}]),e}(),l.\u0275fac=function(e){return new(e||l)(p["\u0275\u0275directiveInject"](g.a),p["\u0275\u0275directiveInject"](f.a),p["\u0275\u0275directiveInject"](h.d))},l.\u0275cmp=p["\u0275\u0275defineComponent"]({type:l,selectors:[["app-freelancer-post-blog"]],decls:58,vars:2,consts:[[1,"header","bg-blue-gradient","pb-6"],[1,"container-fluid"],[1,"header-body"],[1,"row","align-items-center","py-4"],[1,"col-lg-6","col-7"],[1,"h1","text-white","d-inline-block","mb-0"],[1,"container-fluid","mt--6"],[1,"card"],[1,"card-header","bg-transparent"],[1,"mb-0"],[1,"card-body"],[3,"formGroup","submit"],[1,"row"],[1,"col-md-10"],[1,"form-group"],["for","blog-title"],["formControlName","title","type","text","id","blog-title","placeholder","Enter the title of blog",1,"form-control"],["formControlName","category","id","country",1,"form-control"],["value","null"],["value","cryptocurrencies"],["value","blockchain"],["value","smart_contract"],["value","business"],["value","software"],["value","personal"],["value","news"],["value","htmlcoin"],["value","tech"],["for","blog-thumb"],["type","file","id","blog-thumb",1,"form-control",3,"change"],[1,"com-md-10","px-3"],["formControlName","content",3,"modules"],[1,"row","justify-content-center","mt-5"],[1,"col","mt-2"],["type","submit","id","post-btn",1,"btn","btn-primary","edit-btn","ld-ext-right"],[1,"ld","ld-ring","ld-spin"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"h6",5),p["\u0275\u0275text"](6,"Post New Blog"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"div",6),p["\u0275\u0275elementStart"](8,"div",7),p["\u0275\u0275elementStart"](9,"div",8),p["\u0275\u0275elementStart"](10,"h2",9),p["\u0275\u0275text"](11,"Blog Editor"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",10),p["\u0275\u0275elementStart"](13,"form",11),p["\u0275\u0275listener"]("submit",(function(){return t.postBlog()})),p["\u0275\u0275elementStart"](14,"div",12),p["\u0275\u0275elementStart"](15,"div",13),p["\u0275\u0275elementStart"](16,"div",14),p["\u0275\u0275elementStart"](17,"label",15),p["\u0275\u0275text"](18,"Blog Title"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](19,"input",16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](20,"div",13),p["\u0275\u0275elementStart"](21,"div",14),p["\u0275\u0275elementStart"](22,"label",15),p["\u0275\u0275text"](23,"Blog Category"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](24,"select",17),p["\u0275\u0275elementStart"](25,"option",18),p["\u0275\u0275text"](26,"Select your blog category"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](27,"option",19),p["\u0275\u0275text"](28,"Cryptocurrencies"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](29,"option",20),p["\u0275\u0275text"](30,"Blockchain"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"option",21),p["\u0275\u0275text"](32,"Smart Contract"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"option",22),p["\u0275\u0275text"](34,"Business Blogs"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"option",23),p["\u0275\u0275text"](36,"Software Development"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](37,"option",24),p["\u0275\u0275text"](38,"Personal Blogs"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](39,"option",25),p["\u0275\u0275text"](40,"News Blogs"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](41,"option",26),p["\u0275\u0275text"](42,"HTMLCoin"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](43,"option",27),p["\u0275\u0275text"](44,"Tech Blog"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](45,"div",13),p["\u0275\u0275elementStart"](46,"div",14),p["\u0275\u0275elementStart"](47,"label",28),p["\u0275\u0275text"](48,"Blog Thumbnail"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](49,"input",29),p["\u0275\u0275listener"]("change",(function(e){return t.addImage(e)})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](50,"div",30),p["\u0275\u0275element"](51,"quill-editor",31),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](52,"hr"),p["\u0275\u0275elementStart"](53,"div",32),p["\u0275\u0275elementStart"](54,"div",33),p["\u0275\u0275elementStart"](55,"button",34),p["\u0275\u0275text"](56,"Post "),p["\u0275\u0275element"](57,"div",35),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](13),p["\u0275\u0275property"]("formGroup",t.blogForm),p["\u0275\u0275advance"](38),p["\u0275\u0275property"]("modules",t.config))},directives:[a.x,a.m,a.g,a.b,a.l,a.e,a.u,a.p,a.w,v.a],styles:[""]}),l)}],S=((o=function e(){_classCallCheck(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[r.CommonModule,a.s,a.h,v.b,h.h.forChild(b)]]}),o)}}]);